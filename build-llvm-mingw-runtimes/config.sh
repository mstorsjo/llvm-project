#!/bin/sh

cmake ../libcxx/utils/ci/runtimes -G Ninja -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++ -DLLVM_PATH=../llvm -DLLVM_ENABLE_PROJECTS="libunwind;libcxxabi;libcxx" -DLIBCXX_ENABLE_STATIC_ABI_LIBRARY=ON -DLIBCXX_HAS_WIN32_THREAD_API=ON -DLIBCXX_CXX_ABI=libcxxabi -DLIBCXX_TARGET_INFO="libcxx.test.target_info.MingwLocalTI" -DLIBCXXABI_ENABLE_SHARED=OFF -DLIBCXX_USE_COMPILER_RT=ON -DLIBCXXABI_USE_COMPILER_RT=ON -DLIBCXX_ENABLE_SHARED=ON -DLIBCXXABI_USE_LLVM_UNWINDER=ON -DLIBUNWIND_USE_COMPILER_RT=ON -DLIBCXX_TEST_LINKER_FLAGS="-lunwind" -DLIBCXX_ENABLE_EXPERIMENTAL_LIBRARY=ON -DLIBCXX_TEST_COMPILER_FLAGS="-D_LIBCPP_DISABLE_VISIBILITY_ANNOTATIONS -D_LIBCPP_TESTING_DLL"
